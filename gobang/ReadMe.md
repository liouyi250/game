##  五子棋（单机版）
### 使用的技术
1. Windows SDK编程
2. gdiplus编程

### 各个文件的用途
* ** checkerboard ** 定义棋盘
* ** gobang ** 定义棋子
* ** main ** 程序入口文件

### 编译
将所有的文件放在同一目录<br/>
g++ main.cpp checkerboard.cpp gobang.cpp -o main -lgdi32 -lgdiplus

### 核心想法
1. 如何判断有一方获胜<br/>
  五子棋获胜的条件是有一方在横线/纵向/斜向四个方向有五颗棋子连成一条直线，如果是从全部棋子判断的话，工作量会比较大。因此，我从最后一个落下的棋子判断，从该棋子出发，如果有一个方向成5颗棋子，游戏结束。
2. 如何使贴图正好落在棋盘线的交点上<br/>
  由于放大缩小会使棋子的位置发生变化，该游戏采用的是固定大小的窗口。棋盘线交点的坐标在窗口创建时就已经确定。在对棋盘初始化时，将相应的参数传递进去，就可以计算棋盘线交点。当鼠标单击时，会产生x,y坐标，采用四舍五入法计算鼠标离哪个交点最近，然后将棋子图片向上向左平移高度和宽度一半，以使棋子的中心正好在棋盘线交点上。

### 遇到的问题
* 刚开始的时候，打算做可以自由缩放窗口的程序，但是由于WM_SIZE这个消息在窗口变化的时候一直在发送，需要一直计算之前位置与现在位置的相对关系，由于显示的时候是整型数据，因此在窗口缩放的过程中有数据丢失，导致图形回不到原来的位置，故而放弃了自由窗口，改为固定窗口大小
* 在计算棋盘线交点时，由于少算了一行列，导致棋子在棋盘最边缘时程序异常退出，后已加以改正。

<hr>
### 截图
![五子棋截图](https://github.com/liouyi250/game/blob/master/gobang/prtsc.PNG)


